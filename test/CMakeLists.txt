
#
# Adding unittest for unitary schemas
#
FILE(GLOB UNITARY_SCHEMAS "${CMAKE_CURRENT_SOURCE_DIR}/unitary_schemas/*.exp")
FOREACH(UNITARY_SCHEMA ${UNITARY_SCHEMAS})
  GET_FILENAME_COMPONENT(SCHEMA_NAME ${UNITARY_SCHEMA} NAME_WE)
  # setting test_name
  SET(TEST_NAME test${SCHEMA_NAME})
  # add test
  ADD_TEST(${TEST_NAME} ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/check-express ${UNITARY_SCHEMA})
ENDFOREACH(UNITARY_SCHEMA ${UNITARY_SCHEMAS})


#
# Adding test for standard schemas
#
FILE(GLOB STANDARD_SCHEMAS "${CMAKE_CURRENT_SOURCE_DIR}/standard_schemas/*.exp")
FOREACH(STANDARD_SCHEMA ${STANDARD_SCHEMAS})
  GET_FILENAME_COMPONENT(SCHEMA_NAME ${STANDARD_SCHEMA} NAME_WE)
  # setting test_name
  SET(TEST_NAME test${SCHEMA_NAME})
  # add test
  ADD_TEST(${TEST_NAME} ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/check-express ${STANDARD_SCHEMA})
ENDFOREACH(STANDARD_SCHEMA ${STANDARD_SCHEMAS})



